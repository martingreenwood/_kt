!function($){function e(e){var o=e.find(".marker"),a={zoom:12,center:new google.maps.LatLng(0,0),mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1},g=new google.maps.Map(e[0],a);return g.markers=[],o.each(function(){n($(this),g)}),t(g),g}function n(e,n){var t=new google.maps.LatLng(e.attr("data-lat"),e.attr("data-lng")),o=e.attr("data-icon"),a={url:e.attr("data-icon"),size:new google.maps.Size(32,32),scaledSize:new google.maps.Size(32,32)},g=new google.maps.Marker({position:t,map:n,icon:a});if(g.setVisible(!1),n.markers.push(g),e.html()){var i=new google.maps.InfoWindow({content:e.html()});google.maps.event.addListener(g,"mouseover",function(){i.open(n,g)}),google.maps.event.addListener(g,"mouseout",function(){i.close(n,g)})}google.maps.event.addListener(g,"art",function(){e.hasClass($('input[name="art_toggle"]:checked').val())?g.setVisible(!0):g.setVisible(!1)}),google.maps.event.addListener(g,"lodging",function(){e.hasClass($('input[name="lodging_toggle"]:checked').val())?g.setVisible(!0):g.setVisible(!1)}),$('input[name="art_toggle"]').change(function(){google.maps.event.trigger(g,"art")}),$('input[name="lodging_toggle"]').change(function(){google.maps.event.trigger(g,"lodging")})}function t(e){var n=new google.maps.LatLngBounds;$.each(e.markers,function(e,t){var o=new google.maps.LatLng(t.position.lat(),t.position.lng());n.extend(o)}),1==e.markers.length?(e.setCenter(n.getCenter()),e.setZoom(18)):e.fitBounds(n)}var o=null;$(document).ready(function(){$(".map").each(function(){o=e($(this)),$(".map:visible").length?$("dd a").click(function(){var e=$(this).attr("rel"),n=e.split(",");return o.panTo(new google.maps.LatLng(n[0],n[1])),o.setZoom(parseInt(18)),$("html, body").animate({scrollTop:$(".map").offset().top},600),!1}):$("dd a").click(function(){return!1})})})}(jQuery);